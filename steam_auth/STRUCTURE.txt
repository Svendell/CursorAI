Steam Auth Manager - Project Structure
========================================

📦 steam_auth/
│
├── 📄 main.py
│   ├─ Главная точка входа приложения
│   ├─ Инициализация Kivy App
│   ├─ Создание всех экранов
│   ├─ Загрузка конфигурации
│   └─ Запуск приложения
│
├── 📄 config.ini
│   ├─ Конфигурация приложения
│   ├─ Размеры окна (360x800)
│   ├─ Параметры БД и логирования
│   ├─ Параметры безопасности
│   └─ Параметры функций
│
├── 📄 requirements.txt
│   ├─ kivy==2.2.1
│   ├─ pycryptodomex==3.18.0
│   ├─ requests==2.31.0
│   ├─ python-dateutil==2.8.2
│   ├─ Pillow==10.0.0
│   └─ certifi==2023.7.22
│
├── 📄 buildozer.spec
│   ├─ Конфиг для сборки Android APK
│   ├─ Параметры приложения
│   ├─ Android SDK и NDK настройки
│   ├─ Права приложения
│   └─ Требования
│
├── 📄 tests.py
│   ├─ Модульные тесты
│   ├─ TestDatabase - тесты БД
│   ├─ TestSteamGuard - тесты Steam Guard
│   ├─ TestMafileValidator - валидация mafiles
│   ├─ TestPasswordEncryption - шифрование
│   ├─ TestSteamIDConverter - конвертация ID
│   └─ TestConfig - конфигурация
│
├── 📄 example.py
│   ├─ Примеры использования API
│   ├─ Добавление аккаунта
│   ├─ Получение 2FA кода
│   ├─ Создание/импорт mafile
│   ├─ Валидация mafile
│   └─ Конвертация SteamID
│
├── 📝 README.md
│   ├─ Основная документация
│   ├─ Описание функций
│   ├─ Инструкции установки
│   ├─ Использование приложения
│   ├─ Структура проекта
│   ├─ Безопасность
│   └─ Лицензия
│
├── 📝 INSTALL.md
│   ├─ Пошаговая инструкция установки
│   ├─ Для Windows, Linux, Mac
│   ├─ Для Android (Buildozer)
│   ├─ Примеры использования
│   ├─ Конфигурация
│   ├─ Решение проблем
│   └─ Полезные ссылки
│
├── 📝 DEVELOPER_GUIDE.md
│   ├─ Архитектура приложения
│   ├─ MVC паттерн
│   ├─ Добавление функций
│   ├─ Написание тестов
│   ├─ Отладка и логирование
│   ├─ Стиль кода (PEP 8)
│   ├─ Безопасность разработки
│   └─ Common Issues & Solutions
│
├── 📝 PROJECT_SUMMARY.md
│   ├─ Полная сводка проекта
│   ├─ Возможности приложения
│   ├─ Технологический стек
│   ├─ Экраны приложения
│   ├─ База данных
│   ├─ Безопасность
│   ├─ API документация
│   └─ Планы развития
│
├── 📁 app/
│   │
│   ├── 📄 __init__.py
│   │   └─ Package инициализация
│   │
│   ├── 📄 database.py (340 строк)
│   │   ├─ Class: Database
│   │   ├─ init_db() - создание БД
│   │   ├─ add_account() - добавление
│   │   ├─ get_account() - получение
│   │   ├─ get_all_accounts() - список
│   │   ├─ update_account() - обновление
│   │   ├─ delete_account() - удаление
│   │   └─ count_accounts() - подсчет
│   │
│   ├── 📄 steam_guard.py (250 строк)
│   │   ├─ Class: SteamGuardManager
│   │   │   ├─ create_mafile_from_dict()
│   │   │   ├─ import_mafile()
│   │   │   ├─ get_steam_guard_code()
│   │   │   ├─ get_confirmation_operations()
│   │   │   └─ confirm_operation()
│   │   │
│   │   └─ Class: MafileCreator
│   │       ├─ create_mafile_from_account()
│   │       └─ import_and_add_account()
│   │
│   ├── 📄 steam_utils.py (380 строк)
│   │   ├─ Class: SteamGuardUtil
│   │   │   ├─ generate_totp()
│   │   │   ├─ get_code_time_remaining()
│   │   │   └─ generate_steam_guard_code()
│   │   │
│   │   ├─ Class: SteamAPIAuth
│   │   │   ├─ generate_confirmation_hash()
│   │   │   ├─ get_confirmations_url()
│   │   │   └─ get_confirmation_details_url()
│   │   │
│   │   ├─ Class: MafileValidator
│   │   │   ├─ validate_mafile()
│   │   │   └─ create_mafile()
│   │   │
│   │   └─ Class: SteamIDConverter
│   │       ├─ to_64bit()
│   │       └─ from_64bit()
│   │
│   ├── 📄 encryption.py (200 строк)
│   │   ├─ Class: PasswordEncryption
│   │   │   ├─ derive_key() - PBKDF2
│   │   │   ├─ encrypt() - AES-256-CBC
│   │   │   └─ decrypt() - расшифровка
│   │   │
│   │   └─ Class: SecureStorage
│   │       ├─ encrypt_password()
│   │       ├─ decrypt_password()
│   │       ├─ encrypt_secret()
│   │       └─ decrypt_secret()
│   │
│   ├── 📄 config.py (250 строк)
│   │   ├─ Class: Config
│   │   │   ├─ load() - загрузить конфиг
│   │   │   ├─ save() - сохранить конфиг
│   │   │   ├─ get() - получить значение
│   │   │   ├─ get_int() - целое число
│   │   │   ├─ get_bool() - булево значение
│   │   │   └─ get_all() - все опции
│   │   │
│   │   └─ Функции:
│   │       ├─ get_config()
│   │       ├─ get_str()
│   │       ├─ get_int()
│   │       └─ get_bool()
│   │
│   ├── 📄 logger.py (150 строк)
│   │   ├─ Class: AppLogger
│   │   │   └─ _init_logger() - инициализация
│   │   │
│   │   └─ Функции:
│   │       ├─ get_logger()
│   │       ├─ log_debug()
│   │       ├─ log_info()
│   │       ├─ log_warning()
│   │       ├─ log_error()
│   │       └─ log_critical()
│   │
│   └── 📄 screens.py (1200+ строк)
│       ├─ Class: HomeScreen
│       │   ├─ build_ui() - главный экран
│       │   ├─ go_to_accounts() - навигация
│       │   └─ on_enter() - обновление счетчика
│       │
│       ├─ Class: AccountsScreen
│       │   ├─ build_ui() - список аккаунтов
│       │   ├─ open_account() - выбрать аккаунт
│       │   ├─ go_to_add_account() - добавить
│       │   └─ go_back() - вернуться
│       │
│       ├─ Class: AccountScreen
│       │   ├─ build_ui() - информация аккаунта
│       │   ├─ go_to_confirmations() - операции
│       │   ├─ go_to_edit() - редактирование
│       │   ├─ delete_account() - удаление
│       │   └─ go_back() - вернуться
│       │
│       ├─ Class: EditAccountScreen
│       │   ├─ build_ui() - форма редактирования
│       │   ├─ save_account() - сохранить
│       │   └─ go_back() - вернуться
│       │
│       ├─ Class: ConfirmationsScreen
│       │   ├─ build_ui() - список операций
│       │   ├─ confirm_operation() - подтвердить
│       │   ├─ reject_operation() - отклонить
│       │   └─ go_back() - вернуться
│       │
│       ├─ Class: AddAccountScreen
│       │   ├─ build_ui() - выбор способа
│       │   ├─ go_to_manual_add() - ручное
│       │   ├─ go_to_create_mafile() - создание
│       │   ├─ go_to_import_mafile() - импорт
│       │   └─ go_back() - вернуться
│       │
│       ├─ Class: ManualAddScreen
│       │   ├─ build_ui() - форма ввода
│       │   ├─ save_account() - добавить
│       │   └─ go_back() - вернуться
│       │
│       ├─ Class: CreateMafileScreen
│       │   ├─ build_ui() - форма создания
│       │   ├─ create_mafile() - создать mafile
│       │   └─ go_back() - вернуться
│       │
│       └─ Class: ImportMafileScreen
│           ├─ build_ui() - форма импорта
│           ├─ import_mafile() - импортировать
│           └─ go_back() - вернуться
│
├── 📁 mafiles/ (создается автоматически)
│   ├─ account1.maFile
│   ├─ account2.maFile
│   └─ ...
│
├── 📁 backups/ (создается автоматически)
│   ├─ accounts_2026-01-15.db
│   ├─ accounts_2026-01-14.db
│   └─ ...
│
├── 📁 logs/ (создается автоматически)
│   └─ steamauth.log (с ротацией)
│
├── 📁 data/ (создается автоматически)
│   └─ accounts.db (SQLite база данных)
│
└── 📁 __pycache__/ (кеш Python)
    └─ *.pyc

═══════════════════════════════════════════════

📊 СТАТИСТИКА ПРОЕКТА:

Файлы Python:
├─ main.py                    ~100 строк
├─ app/database.py            ~340 строк
├─ app/steam_guard.py         ~250 строк
├─ app/steam_utils.py         ~380 строк
├─ app/encryption.py          ~200 строк
├─ app/config.py              ~250 строк
├─ app/logger.py              ~150 строк
├─ app/screens.py             ~1200 строк
├─ tests.py                   ~400 строк
└─ example.py                 ~200 строк

Итого: ~3500 строк Python кода

Документация:
├─ README.md                  ~350 строк
├─ INSTALL.md                 ~300 строк
├─ DEVELOPER_GUIDE.md         ~350 строк
└─ PROJECT_SUMMARY.md         ~400 строк

Итого: ~1400 строк документации

═══════════════════════════════════════════════

🎯 ОСНОВНЫЕ МОДУЛИ:

1. Database (database.py)
   ├─ SQLite управление
   ├─ CRUD операции
   └─ Автоматическое создание схемы

2. Steam Guard (steam_guard.py)
   ├─ TOTP генерация
   ├─ Mafile создание/импорт
   ├─ Подтверждения операций
   └─ Интеграция с Steam API

3. Криптография (encryption.py)
   ├─ AES-256-CBC шифрование
   ├─ PBKDF2 производство ключей
   └─ Безопасное хранилище

4. UI (screens.py)
   ├─ 9 экранов приложения
   ├─ Навигация между экранами
   ├─ Динамическое обновление
   └─ Обработка пользовательского ввода

5. Конфигурация (config.py)
   ├─ Загрузка/сохранение настроек
   ├─ Значения по умолчанию
   ├─ Типизированное получение значений
   └─ Глобальный доступ

6. Логирование (logger.py)
   ├─ Логирование в консоль
   ├─ Логирование в файл
   ├─ Ротация файлов
   └─ Разные уровни логирования

═══════════════════════════════════════════════

🔐 БЕЗОПАСНОСТЬ:

✅ Шифрование пароля: AES-256-CBC
✅ Производство ключей: PBKDF2 (100,000 итераций)
✅ Хеш функции: HMAC-SHA1 (для Steam Guard)
✅ Генерация кодов: TOTP алгоритм
✅ Валидация входных данных: Во всех формах
✅ Обработка ошибок: Try-except везде
✅ Логирование: Всех операций

═══════════════════════════════════════════════

📱 ЭКРАНЫ (9 штук):

1. Home - Главный экран
2. Accounts - Список аккаунтов
3. Account - Детали аккаунта + 2FA код
4. Edit - Редактирование данных
5. Confirmations - Список операций
6. AddAccount - Выбор способа добавления
7. ManualAdd - Ручное добавление
8. CreateMafile - Создание mafile
9. ImportMafile - Импорт mafile

═══════════════════════════════════════════════

💾 БАЗА ДАННЫХ:

Таблица: accounts
├─ id (INTEGER PRIMARY KEY)
├─ account_name (TEXT UNIQUE)
├─ password (TEXT)
├─ shared_secret (TEXT)
├─ identity_secret (TEXT)
├─ revocation_code (TEXT)
├─ created_at (TIMESTAMP)
└─ updated_at (TIMESTAMP)

═══════════════════════════════════════════════

🧪 ТЕСТИРОВАНИЕ:

Classes:
├─ TestDatabase
├─ TestSteamGuard
├─ TestMafileValidator
├─ TestPasswordEncryption
├─ TestSteamIDConverter
└─ TestConfig

Methods: ~25+ тестов

═══════════════════════════════════════════════

📦 ЗАВИСИМОСТИ:

Backend:
├─ Python 3.8+
├─ SQLite3
└─ PyCryptodome (AES, HMAC, PBKDF2)

Frontend:
├─ Kivy 2.2.1
├─ Pillow (изображения)
└─ Certifi (SSL сертификаты)

Утилиты:
├─ Requests (HTTP)
└─ python-dateutil (даты)

═══════════════════════════════════════════════

🚀 РАЗВЕРТЫВАНИЕ:

Desktop:
└─ python main.py

Android:
├─ buildozer android debug
└─ adb install -r bin/steamauth-1.0-debug.apk

═══════════════════════════════════════════════

✨ ИТОГО:

✅ 3500+ строк кода Python
✅ 1400+ строк документации
✅ 25+ модульных тестов
✅ 9 экранов приложения
✅ Полная функциональность Steam Guard
✅ SQLite база данных
✅ Шифрование AES-256
✅ Конфигурация и логирование
✅ Готовность к производству
✅ Кроссплатформенность (Desktop + Android)

═══════════════════════════════════════════════
